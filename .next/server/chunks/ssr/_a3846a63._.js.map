{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/G/Aerocity/AEROCITY-FE/Aerocity/lib/booking-context.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\";\r\nimport type { BookingFormData, TicketCategory, Offer, TicketSelection } from \"./types\";\r\n\r\ninterface BookingContextType {\r\n  step: number;\r\n  setStep: (step: number) => void;\r\n  formData: BookingFormData;\r\n  categories: TicketCategory[];\r\n  offer: Offer | null;\r\n  updateVisitDate: (date: Date | null) => void;\r\n  updateTicket: (categoryId: number, quantity: number) => void;\r\n  updateCustomerDetails: (name: string, mobile: string, email: string) => void;\r\n  applyOffer: (offer: Offer | null) => void;\r\n  totalAmount: number;\r\n  ticketSelections: TicketSelection[];\r\n  reset: () => void;\r\n}\r\n\r\nconst BookingContext = createContext<BookingContextType | null>(null);\r\n\r\nexport function useBooking() {\r\n  const ctx = useContext(BookingContext);\r\n  if (!ctx) throw new Error(\"useBooking must be used within BookingProvider\");\r\n  return ctx;\r\n}\r\n\r\nconst initialFormData: BookingFormData = {\r\n  visitDate: null,\r\n  tickets: [],\r\n  customerName: \"\",\r\n  customerMobile: \"\",\r\n  customerEmail: \"\",\r\n  offerApplied: null,\r\n};\r\n\r\ninterface BookingProviderProps {\r\n  children: ReactNode;\r\n  categories: TicketCategory[];\r\n  offer: Offer | null;\r\n}\r\n\r\nexport function BookingProvider({\r\n  children,\r\n  categories,\r\n  offer,\r\n}: BookingProviderProps) {\r\n  const [step, setStep] = useState(1);\r\n  const [formData, setFormData] = useState<BookingFormData>(initialFormData);\r\n\r\n  // Auto-apply incoming offer (if any) so UI and ticket unit prices stay consistent\r\n  useEffect(() => {\r\n    if (offer && offer.isActive) {\r\n      setFormData((prev) => {\r\n        const updatedTickets = prev.tickets.map((t) => {\r\n          const cat = categories.find((c) => c.id === t.categoryId);\r\n          if (!cat) return t;\r\n          const unitPrice = cat.offerPrice ?? cat.basePrice;\r\n          return {\r\n            ...t,\r\n            unitPrice,\r\n            totalPrice: unitPrice * t.quantity,\r\n          };\r\n        });\r\n        return { ...prev, offerApplied: offer, tickets: updatedTickets };\r\n      });\r\n    }\r\n  }, [offer, categories]);\r\n\r\n  const updateVisitDate = (date: Date | null) => {\r\n    setFormData((prev) => ({ ...prev, visitDate: date }));\r\n  };\r\n\r\n  const updateTicket = (categoryId: number, quantity: number) => {\r\n    setFormData((prev) => {\r\n      const existing = prev.tickets.filter((t) => t.categoryId !== categoryId);\r\n      if (quantity > 0) {\r\n        const cat = categories.find((c) => c.id === categoryId);\r\n        if (!cat) return prev;\r\n        const unitPrice =\r\n          formData.offerApplied && cat.offerPrice ? cat.offerPrice : cat.basePrice;\r\n        existing.push({\r\n          categoryId,\r\n          categoryName: cat.name,\r\n          quantity,\r\n          unitPrice,\r\n          totalPrice: unitPrice * quantity,\r\n        });\r\n      }\r\n      return { ...prev, tickets: existing };\r\n    });\r\n  };\r\n\r\n  const updateCustomerDetails = (\r\n    name: string,\r\n    mobile: string,\r\n    email: string\r\n  ) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      customerName: name,\r\n      customerMobile: mobile,\r\n      customerEmail: email,\r\n    }));\r\n  };\r\n\r\n  const applyOffer = (newOffer: Offer | null) => {\r\n    setFormData((prev) => {\r\n      const updatedTickets = prev.tickets.map((t) => {\r\n        const cat = categories.find((c) => c.id === t.categoryId);\r\n        if (!cat) return t;\r\n        const unitPrice = newOffer && cat.offerPrice ? cat.offerPrice : cat.basePrice;\r\n        return {\r\n          ...t,\r\n          unitPrice,\r\n          totalPrice: unitPrice * t.quantity,\r\n        };\r\n      });\r\n      return { ...prev, offerApplied: newOffer, tickets: updatedTickets };\r\n    });\r\n  };\r\n\r\n  const ticketSelections = formData.tickets.filter((t) => t.quantity > 0);\r\n  const totalAmount = ticketSelections.reduce((sum, t) => sum + t.totalPrice, 0);\r\n\r\n  const reset = () => {\r\n    setStep(1);\r\n    setFormData(initialFormData);\r\n  };\r\n\r\n  return (\r\n    <BookingContext.Provider\r\n      value={{\r\n        step,\r\n        setStep,\r\n        formData,\r\n        categories,\r\n        offer,\r\n        updateVisitDate,\r\n        updateTicket,\r\n        updateCustomerDetails,\r\n        applyOffer,\r\n        totalAmount,\r\n        ticketSelections,\r\n        reset,\r\n      }}\r\n    >\r\n      {children}\r\n    </BookingContext.Provider>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///D:/G/Aerocity/AEROCITY-FE/Aerocity/components/booking/booking-stepper.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Check } from \"lucide-react\";\r\nimport { BOOKING_STEPS } from \"@/lib/constants\";\r\nimport { useBooking } from \"@/lib/booking-context\";\r\n\r\nexport function BookingStepper() {\r\n  const { step } = useBooking();\r\n\r\n  return (\r\n    <nav aria-label=\"Booking progress\" className=\"mb-8\">\r\n      <ol className=\"flex items-center justify-between\">\r\n        {BOOKING_STEPS.map((s, index) => {\r\n          const isCompleted = step > s.step;\r\n          const isCurrent = step === s.step;\r\n          const isLast = index === BOOKING_STEPS.length - 1;\r\n\r\n          return (\r\n            <li\r\n              key={s.step}\r\n              className={`flex items-center ${isLast ? \"\" : \"flex-1\"}`}\r\n            >\r\n              <div className=\"flex flex-col items-center gap-2\">\r\n                <div\r\n                  className={`flex h-9 w-9 items-center justify-center rounded-full text-sm font-semibold transition-all sm:h-10 sm:w-10 ${\r\n                    isCompleted\r\n                      ? \"bg-secondary text-secondary-foreground\"\r\n                      : isCurrent\r\n                        ? \"bg-primary text-primary-foreground\"\r\n                        : \"bg-muted text-muted-foreground\"\r\n                  }`}\r\n                >\r\n                  {isCompleted ? (\r\n                    <Check className=\"h-4 w-4\" />\r\n                  ) : (\r\n                    s.step\r\n                  )}\r\n                </div>\r\n                <span\r\n                  className={`hidden text-center text-xs font-medium sm:block ${\r\n                    isCurrent\r\n                      ? \"text-primary\"\r\n                      : isCompleted\r\n                        ? \"text-secondary\"\r\n                        : \"text-muted-foreground\"\r\n                  }`}\r\n                >\r\n                  {s.label}\r\n                </span>\r\n              </div>\r\n              {!isLast && (\r\n                <div\r\n                  className={`mx-2 h-0.5 flex-1 rounded-full transition-all sm:mx-4 ${\r\n                    isCompleted ? \"bg-secondary\" : \"bg-muted\"\r\n                  }`}\r\n                />\r\n              )}\r\n            </li>\r\n          );\r\n        })}\r\n      </ol>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wIAAU;IAE3B,qBACE,8WAAC;QAAI,cAAW;QAAmB,WAAU;kBAC3C,cAAA,8WAAC;YAAG,WAAU;sBACX,iIAAa,CAAC,GAAG,CAAC,CAAC,GAAG;gBACrB,MAAM,cAAc,OAAO,EAAE,IAAI;gBACjC,MAAM,YAAY,SAAS,EAAE,IAAI;gBACjC,MAAM,SAAS,UAAU,iIAAa,CAAC,MAAM,GAAG;gBAEhD,qBACE,8WAAC;oBAEC,WAAW,CAAC,kBAAkB,EAAE,SAAS,KAAK,UAAU;;sCAExD,8WAAC;4BAAI,WAAU;;8CACb,8WAAC;oCACC,WAAW,CAAC,2GAA2G,EACrH,cACI,2CACA,YACE,uCACA,kCACN;8CAED,4BACC,8WAAC,iSAAK;wCAAC,WAAU;;;;;+CAEjB,EAAE,IAAI;;;;;;8CAGV,8WAAC;oCACC,WAAW,CAAC,gDAAgD,EAC1D,YACI,iBACA,cACE,mBACA,yBACN;8CAED,EAAE,KAAK;;;;;;;;;;;;wBAGX,CAAC,wBACA,8WAAC;4BACC,WAAW,CAAC,sDAAsD,EAChE,cAAc,iBAAiB,YAC/B;;;;;;;mBAnCD,EAAE,IAAI;;;;;YAwCjB;;;;;;;;;;;AAIR","debugId":null}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///D:/G/Aerocity/AEROCITY-FE/Aerocity/components/booking/ticket-counter.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Minus, Plus } from \"lucide-react\";\r\n\r\ninterface TicketCounterProps {\r\n  value: number;\r\n  onChange: (value: number) => void;\r\n  max?: number;\r\n}\r\n\r\nexport function TicketCounter({\r\n  value,\r\n  onChange,\r\n  max = 20,\r\n}: TicketCounterProps) {\r\n  return (\r\n    <div className=\"flex items-center gap-3\">\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => onChange(Math.max(0, value - 1))}\r\n        disabled={value === 0}\r\n        className=\"flex h-8 w-8 items-center justify-center rounded-full border bg-background text-foreground transition-all hover:bg-muted disabled:cursor-not-allowed disabled:opacity-30\"\r\n        aria-label=\"Decrease quantity\"\r\n      >\r\n        <Minus className=\"h-3.5 w-3.5\" />\r\n      </button>\r\n      <span className=\"w-8 text-center text-base font-semibold text-foreground tabular-nums\">\r\n        {value}\r\n      </span>\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => onChange(Math.min(max, value + 1))}\r\n        disabled={value >= max}\r\n        className=\"flex h-8 w-8 items-center justify-center rounded-full border bg-primary text-primary-foreground transition-all hover:brightness-110 disabled:cursor-not-allowed disabled:opacity-30\"\r\n        aria-label=\"Increase quantity\"\r\n      >\r\n        <Plus className=\"h-3.5 w-3.5\" />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAFA;;;AAUO,SAAS,cAAc,EAC5B,KAAK,EACL,QAAQ,EACR,MAAM,EAAE,EACW;IACnB,qBACE,8WAAC;QAAI,WAAU;;0BACb,8WAAC;gBACC,MAAK;gBACL,SAAS,IAAM,SAAS,KAAK,GAAG,CAAC,GAAG,QAAQ;gBAC5C,UAAU,UAAU;gBACpB,WAAU;gBACV,cAAW;0BAEX,cAAA,8WAAC,iSAAK;oBAAC,WAAU;;;;;;;;;;;0BAEnB,8WAAC;gBAAK,WAAU;0BACb;;;;;;0BAEH,8WAAC;gBACC,MAAK;gBACL,SAAS,IAAM,SAAS,KAAK,GAAG,CAAC,KAAK,QAAQ;gBAC9C,UAAU,SAAS;gBACnB,WAAU;gBACV,cAAW;0BAEX,cAAA,8WAAC,8RAAI;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIxB","debugId":null}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///D:/G/Aerocity/AEROCITY-FE/Aerocity/components/booking/price-summary.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useBooking } from \"@/lib/booking-context\";\r\nimport { formatPrice } from \"@/lib/utils\";\r\n\r\nexport function PriceSummary() {\r\n  const { ticketSelections, totalAmount, formData } = useBooking();\r\n\r\n  if (ticketSelections.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  // Calculate savings using the applied offer (if any)\r\n  const { categories, offer } = useBooking();\r\n  const appliedOffer = formData.offerApplied ?? offer;\r\n  const savings = ticketSelections.reduce((sum, t) => {\r\n    const cat = categories.find((c) => c.id === t.categoryId);\r\n    if (!cat || !appliedOffer || !cat.offerPrice) return sum;\r\n    return sum + (cat.basePrice - cat.offerPrice) * t.quantity;\r\n  }, 0);\r\n\r\n  return (\r\n    <div className=\"rounded-xl border bg-card p-5\">\r\n      <h3 className=\"mb-4 text-sm font-semibold uppercase tracking-wider text-muted-foreground\">\r\n        Order Summary\r\n      </h3>\r\n      <div className=\"flex flex-col gap-3\">\r\n        {ticketSelections.map((t) => (\r\n          <div\r\n            key={t.categoryId}\r\n            className=\"flex items-center justify-between text-sm\"\r\n          >\r\n            <span className=\"text-muted-foreground\">\r\n              {t.categoryName} x{t.quantity}\r\n            </span>\r\n            <span className=\"font-medium text-card-foreground\">\r\n              {formatPrice(t.totalPrice)}\r\n            </span>\r\n          </div>\r\n        ))}\r\n        {savings > 0 && (\r\n          <div className=\"flex items-center justify-between border-t pt-3 text-sm\">\r\n            <span className=\"text-secondary\">You save</span>\r\n            <span className=\"font-medium text-secondary\">\r\n              -{formatPrice(savings)}\r\n            </span>\r\n          </div>\r\n        )}\r\n        <div className=\"flex items-center justify-between border-t pt-3\">\r\n          <span className=\"text-base font-semibold text-card-foreground\">\r\n            Total\r\n          </span>\r\n          <span className=\"text-xl font-bold text-primary\">\r\n            {formatPrice(totalAmount)}\r\n          </span>\r\n        </div>\r\n        {appliedOffer && (\r\n          <div className=\"rounded-lg bg-accent/10 px-3 py-2 text-xs text-accent\">\r\n            Offer applied: {appliedOffer.name}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS;IACd,MAAM,EAAE,gBAAgB,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,IAAA,wIAAU;IAE9D,IAAI,iBAAiB,MAAM,KAAK,GAAG;QACjC,OAAO;IACT;IAEA,qDAAqD;IACrD,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,IAAA,wIAAU;IACxC,MAAM,eAAe,SAAS,YAAY,IAAI;IAC9C,MAAM,UAAU,iBAAiB,MAAM,CAAC,CAAC,KAAK;QAC5C,MAAM,MAAM,WAAW,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,EAAE,UAAU;QACxD,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,UAAU,EAAE,OAAO;QACrD,OAAO,MAAM,CAAC,IAAI,SAAS,GAAG,IAAI,UAAU,IAAI,EAAE,QAAQ;IAC5D,GAAG;IAEH,qBACE,8WAAC;QAAI,WAAU;;0BACb,8WAAC;gBAAG,WAAU;0BAA4E;;;;;;0BAG1F,8WAAC;gBAAI,WAAU;;oBACZ,iBAAiB,GAAG,CAAC,CAAC,kBACrB,8WAAC;4BAEC,WAAU;;8CAEV,8WAAC;oCAAK,WAAU;;wCACb,EAAE,YAAY;wCAAC;wCAAG,EAAE,QAAQ;;;;;;;8CAE/B,8WAAC;oCAAK,WAAU;8CACb,IAAA,2HAAW,EAAC,EAAE,UAAU;;;;;;;2BAPtB,EAAE,UAAU;;;;;oBAWpB,UAAU,mBACT,8WAAC;wBAAI,WAAU;;0CACb,8WAAC;gCAAK,WAAU;0CAAiB;;;;;;0CACjC,8WAAC;gCAAK,WAAU;;oCAA6B;oCACzC,IAAA,2HAAW,EAAC;;;;;;;;;;;;;kCAIpB,8WAAC;wBAAI,WAAU;;0CACb,8WAAC;gCAAK,WAAU;0CAA+C;;;;;;0CAG/D,8WAAC;gCAAK,WAAU;0CACb,IAAA,2HAAW,EAAC;;;;;;;;;;;;oBAGhB,8BACC,8WAAC;wBAAI,WAAU;;4BAAwD;4BACrD,aAAa,IAAI;;;;;;;;;;;;;;;;;;;AAM7C","debugId":null}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["file:///D:/G/Aerocity/AEROCITY-FE/Aerocity/components/booking/step-date-tickets.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { CalendarDays, ArrowRight, Info } from \"lucide-react\";\r\nimport { useBooking } from \"@/lib/booking-context\";\r\nimport { TicketCounter } from \"./ticket-counter\";\r\nimport { PriceSummary } from \"./price-summary\";\r\nimport { formatPrice } from \"@/lib/utils\";\r\n\r\nexport function StepDateTickets() {\r\n  const {\r\n    formData,\r\n    categories,\r\n    offer,\r\n    updateVisitDate,\r\n    updateTicket,\r\n    setStep,\r\n    ticketSelections,\r\n  } = useBooking();\r\n\r\n  const [dateError, setDateError] = useState(\"\");\r\n\r\n  const getTicketQty = (catId: number) => {\r\n    return formData.tickets.find((t) => t.categoryId === catId)?.quantity || 0;\r\n  };\r\n\r\n  const handleDateChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const val = e.target.value;\r\n    if (val) {\r\n      const selected = new Date(val + \"T00:00:00\");\r\n      const today = new Date();\r\n      today.setHours(0, 0, 0, 0);\r\n      if (selected < today) {\r\n        setDateError(\"Please select a future date\");\r\n        return;\r\n      }\r\n      setDateError(\"\");\r\n      updateVisitDate(selected);\r\n    } else {\r\n      updateVisitDate(null);\r\n    }\r\n  };\r\n\r\n  const canContinue =\r\n    formData.visitDate && ticketSelections.length > 0 && !dateError;\r\n\r\n  const handleContinue = () => {\r\n    // advance step then scroll the booking flow into view so the stepper is visible\r\n    setStep(2);\r\n    if (typeof window !== \"undefined\") {\r\n      const el = document.getElementById(\"booking-flow\");\r\n      if (el) {\r\n        el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n        return;\r\n      }\r\n      // fallback to top of page\r\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n    }\r\n  };\r\n\r\n  // Min date for date picker (tomorrow)\r\n  const tomorrow = new Date();\r\n  tomorrow.setDate(tomorrow.getDate() + 1);\r\n  const minDate = tomorrow.toISOString().split(\"T\")[0];\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-8 lg:flex-row lg:gap-12\">\r\n      {/* Main Content */}\r\n      <div className=\"flex-1\">\r\n        <h2 className=\"mb-2 text-xl font-semibold text-foreground sm:text-2xl\">\r\n          Select Date & Tickets\r\n        </h2>\r\n        <p className=\"mb-8 text-sm text-muted-foreground\">\r\n          Choose your visit date and the number of tickets for each category.\r\n        </p>\r\n\r\n        {/* Date Picker */}\r\n        <div className=\"mb-8\">\r\n          <label\r\n            htmlFor=\"visit-date\"\r\n            className=\"mb-2 flex items-center gap-2 text-sm font-medium text-foreground\"\r\n          >\r\n            <CalendarDays className=\"h-4 w-4 text-secondary\" />\r\n            Visit Date\r\n          </label>\r\n          <input\r\n            id=\"visit-date\"\r\n            type=\"date\"\r\n            min={minDate}\r\n            value={\r\n              formData.visitDate\r\n                ? formData.visitDate.toISOString().split(\"T\")[0]\r\n                : \"\"\r\n            }\r\n            onChange={handleDateChange}\r\n            className=\"w-full max-w-xs rounded-lg border bg-background px-4 py-2.5 text-sm text-foreground outline-none focus:border-secondary focus:ring-2 focus:ring-secondary/20\"\r\n          />\r\n          {dateError && (\r\n            <p className=\"mt-2 text-xs text-destructive\">{dateError}</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Offer Notice */}\r\n        {offer && offer.isActive && (\r\n          <div className=\"mb-6 flex items-start gap-3 rounded-lg border border-accent/30 bg-accent/5 p-4\">\r\n            <Info className=\"mt-0.5 h-4 w-4 shrink-0 text-accent\" />\r\n            <div>\r\n              <p className=\"text-sm font-medium text-foreground\">\r\n                {offer.name} is live!\r\n              </p>\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                {offer.description} Special prices already applied below.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Ticket Categories */}\r\n        <div className=\"flex flex-col gap-4\">\r\n          {categories.map((cat) => {\r\n            const hasOffer = offer?.isActive && cat.offerPrice;\r\n            return (\r\n              <div\r\n                key={cat.id}\r\n                className=\"flex flex-col gap-4 rounded-xl border bg-card p-5 sm:flex-row sm:items-center sm:justify-between\"\r\n              >\r\n                <div className=\"flex-1\">\r\n                  <h3 className=\"text-base font-semibold text-card-foreground\">\r\n                    {cat.name}\r\n                  </h3>\r\n                  <p className=\"mt-1 text-sm text-muted-foreground\">\r\n                    {cat.description}\r\n                  </p>\r\n                  <div className=\"mt-2 flex items-baseline gap-2\">\r\n                    {hasOffer ? (\r\n                      <>\r\n                        <span className=\"text-lg font-bold text-primary\">\r\n                          {formatPrice(cat.offerPrice!)}\r\n                        </span>\r\n                        <span className=\"text-sm text-muted-foreground line-through\">\r\n                          {formatPrice(cat.basePrice)}\r\n                        </span>\r\n                      </>\r\n                    ) : (\r\n                      <span className=\"text-lg font-bold text-primary\">\r\n                        {formatPrice(cat.basePrice)}\r\n                      </span>\r\n                    )}\r\n                    <span className=\"text-xs text-muted-foreground\">\r\n                      / person\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <TicketCounter\r\n                  value={getTicketQty(cat.id)}\r\n                  onChange={(qty) => updateTicket(cat.id, qty)}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Continue Button */}\r\n        <div className=\"mt-8\">\r\n          <button\r\n            onClick={handleContinue}\r\n            disabled={!canContinue}\r\n            className=\"inline-flex items-center gap-2 rounded-lg bg-primary px-8 py-3 text-sm font-semibold text-primary-foreground transition-all hover:brightness-110 disabled:cursor-not-allowed disabled:opacity-50\"\r\n          >\r\n            Continue\r\n            <ArrowRight className=\"h-4 w-4\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Sidebar Summary */}\r\n      <div className=\"lg:w-80\">\r\n        <div className=\"sticky top-24\">\r\n          <PriceSummary />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 774, "column": 0}, "map": {"version":3,"sources":["file:///D:/G/Aerocity/AEROCITY-FE/Aerocity/components/booking/step-details.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { ArrowRight, ArrowLeft, User, Phone, Mail } from \"lucide-react\";\r\nimport { useBooking } from \"@/lib/booking-context\";\r\nimport { validateMobile, validateEmail } from \"@/lib/utils\";\r\nimport { PriceSummary } from \"./price-summary\";\r\n\r\nexport function StepDetails() {\r\n  const { formData, updateCustomerDetails, setStep } = useBooking();\r\n\r\n  const [name, setName] = useState(formData.customerName);\r\n  const [mobile, setMobile] = useState(formData.customerMobile);\r\n  const [email, setEmail] = useState(formData.customerEmail);\r\n  const [errors, setErrors] = useState<Record<string, string>>({});\r\n\r\n  const validate = () => {\r\n    const newErrors: Record<string, string> = {};\r\n    if (!name.trim()) newErrors.name = \"Name is required\";\r\n    if (!mobile.trim()) newErrors.mobile = \"Mobile number is required\";\r\n    else if (!validateMobile(mobile))\r\n      newErrors.mobile =\r\n        \"Enter a valid 10-digit Indian mobile number (starts with 6-9)\";\r\n    if (email && !validateEmail(email))\r\n      newErrors.email = \"Enter a valid email address\";\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleContinue = () => {\r\n    if (validate()) {\r\n      updateCustomerDetails(name.trim(), mobile.trim(), email.trim());\r\n      // advance to Review (now step 3)\r\n      setStep(3);\r\n      if (typeof window !== \"undefined\") {\r\n        const el = document.getElementById(\"booking-flow\");\r\n        if (el) {\r\n          el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n          return;\r\n        }\r\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-8 lg:flex-row lg:gap-12\">\r\n      <div className=\"flex-1\">\r\n        <h2 className=\"mb-2 text-xl font-semibold text-foreground sm:text-2xl\">\r\n          Your Details\r\n        </h2>\r\n        <p className=\"mb-8 text-sm text-muted-foreground\">\r\n          Enter your contact information. We will send your booking\r\n          confirmation and ticket via SMS.\r\n        </p>\r\n\r\n        <div className=\"flex flex-col gap-6\">\r\n          {/* Name */}\r\n          <div className=\"flex flex-col gap-2\">\r\n            <label\r\n              htmlFor=\"customer-name\"\r\n              className=\"flex items-center gap-2 text-sm font-medium text-foreground\"\r\n            >\r\n              <User className=\"h-4 w-4 text-secondary\" />\r\n              Full Name <span className=\"text-destructive\">*</span>\r\n            </label>\r\n            <input\r\n              id=\"customer-name\"\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              className={`rounded-lg border bg-background px-4 py-2.5 text-sm text-foreground outline-none focus:ring-2 focus:ring-secondary/20 ${\r\n                errors.name\r\n                  ? \"border-destructive\"\r\n                  : \"focus:border-secondary\"\r\n              }`}\r\n              placeholder=\"Enter your full name\"\r\n            />\r\n            {errors.name && (\r\n              <span className=\"text-xs text-destructive\">{errors.name}</span>\r\n            )}\r\n          </div>\r\n\r\n          {/* Mobile */}\r\n          <div className=\"flex flex-col gap-2\">\r\n            <label\r\n              htmlFor=\"customer-mobile\"\r\n              className=\"flex items-center gap-2 text-sm font-medium text-foreground\"\r\n            >\r\n              <Phone className=\"h-4 w-4 text-secondary\" />\r\n              Mobile Number <span className=\"text-destructive\">*</span>\r\n            </label>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"rounded-lg border bg-muted px-3 py-2.5 text-sm text-muted-foreground\">\r\n                +91\r\n              </span>\r\n              <input\r\n                id=\"customer-mobile\"\r\n                type=\"tel\"\r\n                value={mobile}\r\n                onChange={(e) => {\r\n                  const val = e.target.value.replace(/\\D/g, \"\").slice(0, 10);\r\n                  setMobile(val);\r\n                }}\r\n                className={`flex-1 rounded-lg border bg-background px-4 py-2.5 text-sm text-foreground outline-none focus:ring-2 focus:ring-secondary/20 ${\r\n                  errors.mobile\r\n                    ? \"border-destructive\"\r\n                    : \"focus:border-secondary\"\r\n                }`}\r\n                placeholder=\"9876543210\"\r\n                maxLength={10}\r\n              />\r\n            </div>\r\n            {errors.mobile && (\r\n              <span className=\"text-xs text-destructive\">\r\n                {errors.mobile}\r\n              </span>\r\n            )}\r\n            <span className=\"text-xs text-muted-foreground\">\r\n              Your e-ticket will be sent to this number via SMS\r\n            </span>\r\n          </div>\r\n\r\n          {/* Email */}\r\n          <div className=\"flex flex-col gap-2\">\r\n            <label\r\n              htmlFor=\"customer-email\"\r\n              className=\"flex items-center gap-2 text-sm font-medium text-foreground\"\r\n            >\r\n              <Mail className=\"h-4 w-4 text-secondary\" />\r\n              Email Address{\" \"}\r\n              <span className=\"text-xs text-muted-foreground\">(optional)</span>\r\n            </label>\r\n            <input\r\n              id=\"customer-email\"\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              className={`rounded-lg border bg-background px-4 py-2.5 text-sm text-foreground outline-none focus:ring-2 focus:ring-secondary/20 ${\r\n                errors.email\r\n                  ? \"border-destructive\"\r\n                  : \"focus:border-secondary\"\r\n              }`}\r\n              placeholder=\"your@email.com\"\r\n            />\r\n            {errors.email && (\r\n              <span className=\"text-xs text-destructive\">{errors.email}</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Navigation */}\r\n        <div className=\"mt-8 flex gap-4\">\r\n          <button\r\n            onClick={() => setStep(2)}\r\n            className=\"inline-flex items-center gap-2 rounded-lg border px-6 py-3 text-sm font-medium text-muted-foreground transition-all hover:bg-muted\"\r\n          >\r\n            <ArrowLeft className=\"h-4 w-4\" />\r\n            Back\r\n          </button>\r\n          <button\r\n            onClick={handleContinue}\r\n            className=\"inline-flex items-center gap-2 rounded-lg bg-primary px-8 py-3 text-sm font-semibold text-primary-foreground transition-all hover:brightness-110\"\r\n          >\r\n            Continue\r\n            <ArrowRight className=\"h-4 w-4\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Sidebar */}\r\n      <div className=\"lg:w-80\">\r\n        <div className=\"sticky top-24\">\r\n          <PriceSummary />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1126, "column": 0}, "map": {"version":3,"sources":["file:///D:/G/Aerocity/AEROCITY-FE/Aerocity/components/booking/step-review.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  ArrowLeft,\r\n  CalendarDays,\r\n  User,\r\n  Phone,\r\n  Mail,\r\n  Tag,\r\n  Pencil,\r\n  CreditCard,\r\n} from \"lucide-react\";\r\nimport { useBooking } from \"@/lib/booking-context\";\r\nimport { formatPrice, formatDate } from \"@/lib/utils\";\r\n\r\nexport function StepReview() {\r\n  const { formData, ticketSelections, totalAmount, categories, offer, setStep } =\r\n    useBooking();\r\n\r\n  const savings = ticketSelections.reduce((sum, t) => {\r\n    const cat = categories.find((c) => c.id === t.categoryId);\r\n    if (!cat || !formData.offerApplied || !cat.offerPrice) return sum;\r\n    return sum + (cat.basePrice - cat.offerPrice) * t.quantity;\r\n  }, 0);\r\n\r\n  return (\r\n    <div className=\"mx-auto max-w-2xl\">\r\n      <h2 className=\"mb-2 text-xl font-semibold text-foreground sm:text-2xl\">\r\n        Review Your Booking\r\n      </h2>\r\n      <p className=\"mb-8 text-sm text-muted-foreground\">\r\n        Please review all details before proceeding to payment.\r\n      </p>\r\n\r\n      <div className=\"flex flex-col gap-6\">\r\n        {/* Visit Date */}\r\n        <div className=\"rounded-xl border bg-card p-5\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <CalendarDays className=\"h-5 w-5 text-secondary\" />\r\n              <div>\r\n                <p className=\"text-xs text-muted-foreground\">Visit Date</p>\r\n                <p className=\"font-semibold text-card-foreground\">\r\n                  {formData.visitDate\r\n                    ? formatDate(formData.visitDate)\r\n                    : \"Not selected\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n              <button\r\n                onClick={() => setStep(1)}\r\n              className=\"flex h-8 w-8 items-center justify-center rounded-full text-muted-foreground transition-colors hover:bg-muted\"\r\n              aria-label=\"Edit date\"\r\n            >\r\n              <Pencil className=\"h-3.5 w-3.5\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tickets */}\r\n        <div className=\"rounded-xl border bg-card p-5\">\r\n          <div className=\"mb-4 flex items-center justify-between\">\r\n            <h3 className=\"flex items-center gap-2 text-sm font-semibold uppercase tracking-wider text-muted-foreground\">\r\n              Tickets\r\n            </h3>\r\n            <button\r\n              onClick={() => setStep(1)}\r\n              className=\"flex h-8 w-8 items-center justify-center rounded-full text-muted-foreground transition-colors hover:bg-muted\"\r\n              aria-label=\"Edit tickets\"\r\n            >\r\n              <Pencil className=\"h-3.5 w-3.5\" />\r\n            </button>\r\n          </div>\r\n          <div className=\"flex flex-col gap-3\">\r\n            {ticketSelections.map((t) => (\r\n              <div\r\n                key={t.categoryId}\r\n                className=\"flex items-center justify-between text-sm\"\r\n              >\r\n                <span className=\"text-card-foreground\">\r\n                  {t.categoryName}{\" \"}\r\n                  <span className=\"text-muted-foreground\">x{t.quantity}</span>\r\n                </span>\r\n                <span className=\"font-medium text-card-foreground\">\r\n                  {formatPrice(t.totalPrice)}\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {formData.offerApplied && (\r\n            <div className=\"mt-4 flex items-center gap-2 rounded-lg bg-accent/10 px-3 py-2 text-sm\">\r\n              <Tag className=\"h-4 w-4 text-accent\" />\r\n              <span className=\"text-accent\">\r\n                {formData.offerApplied.name} applied\r\n              </span>\r\n              {savings > 0 && (\r\n                <span className=\"ml-auto font-medium text-secondary\">\r\n                  -{formatPrice(savings)}\r\n                </span>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"mt-4 flex items-center justify-between border-t pt-4\">\r\n            <span className=\"text-base font-semibold text-card-foreground\">\r\n              Total Amount\r\n            </span>\r\n            <span className=\"text-2xl font-bold text-primary\">\r\n              {formatPrice(totalAmount)}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Customer Details */}\r\n        <div className=\"rounded-xl border bg-card p-5\">\r\n          <div className=\"mb-4 flex items-center justify-between\">\r\n            <h3 className=\"text-sm font-semibold uppercase tracking-wider text-muted-foreground\">\r\n              Your Details\r\n            </h3>\r\n            <button\r\n              onClick={() => setStep(2)}\r\n              className=\"flex h-8 w-8 items-center justify-center rounded-full text-muted-foreground transition-colors hover:bg-muted\"\r\n              aria-label=\"Edit details\"\r\n            >\r\n              <Pencil className=\"h-3.5 w-3.5\" />\r\n            </button>\r\n          </div>\r\n          <div className=\"flex flex-col gap-3\">\r\n            <div className=\"flex items-center gap-3 text-sm\">\r\n              <User className=\"h-4 w-4 text-muted-foreground\" />\r\n              <span className=\"text-card-foreground\">\r\n                {formData.customerName}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex items-center gap-3 text-sm\">\r\n              <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n              <span className=\"text-card-foreground\">\r\n                +91 {formData.customerMobile}\r\n              </span>\r\n            </div>\r\n            {formData.customerEmail && (\r\n              <div className=\"flex items-center gap-3 text-sm\">\r\n                <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n                <span className=\"text-card-foreground\">\r\n                  {formData.customerEmail}\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <div className=\"mt-8 flex gap-4\">\r\n        <button\r\n          onClick={() => setStep(2)}\r\n          className=\"inline-flex items-center gap-2 rounded-lg border px-6 py-3 text-sm font-medium text-muted-foreground transition-all hover:bg-muted\"\r\n        >\r\n          <ArrowLeft className=\"h-4 w-4\" />\r\n          Back\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            setStep(4);\r\n            if (typeof window !== \"undefined\") {\r\n              const el = document.getElementById(\"booking-flow\");\r\n              if (el) {\r\n                el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n                return;\r\n              }\r\n              window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n            }\r\n          }}\r\n          className=\"inline-flex items-center gap-2 rounded-lg bg-accent px-8 py-3 text-sm font-semibold text-accent-foreground transition-all hover:brightness-110\"\r\n        >\r\n          <CreditCard className=\"h-4 w-4\" />\r\n          Proceed to Payment\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1596, "column": 0}, "map": {"version":3,"sources":["file:///D:/G/Aerocity/AEROCITY-FE/Aerocity/components/booking/booking-flow.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useBooking } from \"@/lib/booking-context\";\r\nimport { BookingStepper } from \"./booking-stepper\";\r\nimport { StepDateTickets } from \"./step-date-tickets\";\r\nimport { StepDetails } from \"./step-details\";\r\nimport { StepReview } from \"./step-review\";\r\nimport { StepPayment } from \"./step-payment\";\r\n\r\nexport function BookingFlow() {\r\n  const { step } = useBooking();\r\n\r\n  return (\r\n    <div id=\"booking-flow\">\r\n      <BookingStepper />\r\n      {step === 1 && <StepDateTickets />}\r\n      {step === 2 && <StepDetails />}\r\n      {step === 3 && <StepReview />}\r\n      {step === 4 && <StepPayment />}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wIAAU;IAE3B,qBACE,8WAAC;QAAI,IAAG;;0BACN,8WAAC,8JAAc;;;;;YACd,SAAS,mBAAK,8WAAC,oKAAe;;;;;YAC9B,SAAS,mBAAK,8WAAC,wJAAW;;;;;YAC1B,SAAS,mBAAK,8WAAC,sJAAU;;;;;YACzB,SAAS,mBAAK,8WAAC,wJAAW;;;;;;;;;;;AAGjC","debugId":null}}]
}